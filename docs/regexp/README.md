# RegExp

正则表达式（Regular Expression）

## 简介

### 基本概念

**定义**：  
一种用于**文本模式匹配**的字符串规则，通过特定语法描述字符组合特征，常用于：

- 数据验证（邮箱、电话、密码强度）
- 文本搜索/替换（代码重构、敏感词过滤）
- 日志分析（提取特定格式的数据）

**组成要素**：

| 元素类型 | 说明                 | 示例             |
| -------- | -------------------- | ---------------- |
| 普通字符 | 直接匹配文本         | `a` 匹配字母"a"  |
| 元字符   | 具有特殊功能的符号   | `.` 匹配任意字符 |
| 转义字符 | 使元字符失去特殊功能 | `\.` 匹配小数点  |

---

### 核心语法速查表

| 元字符/语法 | 功能描述                 | 等价形式       |
| ----------- | ------------------------ | -------------- |
| `\d`        | 匹配数字（0-9）          | `[0-9]`        |
| `\w`        | 匹配字母、数字、下划线   | `[A-Za-z0-9_]` |
| `^` / `$`   | 匹配字符串开始/结束位置  | \-             |
| `[abc]`     | 匹配方括号内的任意字符   | \-             |
| `a{3}`      | 匹配字符"a"连续出现 3 次 | `aaa`          |
| `.*`        | 贪婪匹配任意长度字符     | \-             |
| `.*?`       | 非贪婪匹配（最短匹配）   | \-             |

---

### 典型应用场景

1.  **表单验证**

    ```
    // 手机号验证（中国大陆）
    /^1[3-9]\d{9}$/.test("13812345678")  // true
    ```

2.  **日志分析**

    ```
    # 提取IP地址
    import re
    re.findall(r'\b(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\b', log)
    ```

3.  **文本清洗**

    ```
    // 移除HTML标签
    String cleanText = html.replaceAll("<[^>]+>", "");
    ```

---

### 优缺点对比

| 优势                        | 局限性                           |
| --------------------------- | -------------------------------- |
| 高效处理复杂文本模式        | 复杂表达式可读性差               |
| 跨语言支持（JS/Py/Java 等） | 部分语法差异需注意（如后视断言） |
| 单行模式性能优异            | 超长文本可能性能下降             |

## 语法

| 字符        | 描述（正则表达式有多种不同的风格。表中是在 PCRE 中元字符及其在正则表达式上下文中的行为的一个完整列表：）                                                                                                                                                                                                                                                      |
| ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| \\          | 将下一个字符标记为一个特殊字符、或一个原义字符、或一个向后引用、或一个八进制转义符。例如，“n”匹配字符“n”。“\\n”匹配一个换行符。序列“\\\\”匹配“\\”而“\\(”则匹配“(”。                                                                                                                                                                                           |
| ^           | 匹配输入字符串的开始位置。如果设置了 RegExp 对象的 Multiline 属性，^也匹配“\\n”或“\\r”之后的位置。                                                                                                                                                                                                                                                            |
| $           | 匹配输入字符串的结束位置。如果设置了 RegExp 对象的 Multiline 属性，$也匹配“\\n”或“\\r”之前的位置。                                                                                                                                                                                                                                                            |
| \*          | 匹配前面的子表达式零次或多次。例如，zo\*能匹配“z”以及“zoo”。\*等价于{0,}。                                                                                                                                                                                                                                                                                    |
| +           | 匹配前面的子表达式一次或多次。例如，“zo+”能匹配“zo”以及“zoo”，但不能匹配“z”。+等价于{1,}。                                                                                                                                                                                                                                                                    |
| ?           | 匹配前面的子表达式零次或一次。例如，“do(es)?”可以匹配“do”或“does”中的“do”。?等价于{0,1}。                                                                                                                                                                                                                                                                     |
| {n}         | n 是一个非负整数。匹配确定的 n 次。例如，“o{2}”不能匹配“Bob”中的“o”，但是能匹配“food”中的两个 o。                                                                                                                                                                                                                                                             |
| {n,}        | n 是一个非负整数。至少匹配 n 次。例如，“o{2,}”不能匹配“Bob”中的“o”，但能匹配“foooood”中的所有 o。“o{1,}”等价于“o+”。“o{0,}”则等价于“o\*”。                                                                                                                                                                                                                    |
| {n,m}       | m 和 n 均为非负整数，其中 n<=m。最少匹配 n 次且最多匹配 m 次。例如，“o{1,3}”将匹配“fooooood”中的前三个 o。“o{0,1}”等价于“o?”。请注意在逗号和两个数之间不能有空格。                                                                                                                                                                                            |
| ?           | 当该字符紧跟在任何一个其他限制符（\*,+,?，{n}，{n,}，{n,m}）后面时，匹配模式是非贪婪的。非贪婪模式尽可能少的匹配所搜索的字符串，而默认的贪婪模式则尽可能多的匹配所搜索的字符串。例如，对于字符串“oooo”，“o+?”将匹配单个“o”，而“o+”将匹配所有“o”。                                                                                                             |
| .           | 匹配除“\\n”之外的任何单个字符。要匹配包括“\\n”在内的任何字符，请使用像“\[.\\n\]”的模式。                                                                                                                                                                                                                                                                      |
| (pattern)   | 匹配 pattern 并获取这一匹配。所获取的匹配可以从产生的 Matches 集合得到，在 VBScript 中使用 SubMatches 集合，在 JScript 中则使用$0…$9 属性。要匹配圆括号字符，请使用“\\(”或“\\)”。                                                                                                                                                                             |
| (?:pattern) | 匹配 pattern 但不获取匹配结果，也就是说这是一个非获取匹配，不进行存储供以后使用。这在使用或字符“( \| )”来组合一个模式的各个部分是很有用。例如“industr(?:y \| ies)”就是一个比“industry \| industries”更简略的表达式。                                                                                                                                          |
| (?=pattern) | 正向预查，在任何匹配 pattern 的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。例如，“Windows(?=95 \| 98 \| NT \| 2000)”能匹配“Windows2000”中的“Windows”，但不能匹配“Windows3.1”中的“Windows”。预查不消耗字符，也就是说，在一个匹配发生后，在最后一次匹配之后立即开始下一次匹配的搜索，而不是从包含预查的字符之后开始。 |
| (?!pattern) | 负向预查，在任何不匹配 pattern 的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。例如“Windows(?!95 \| 98 \| NT \| 2000)”能匹配“Windows3.1”中的“Windows”，但不能匹配“Windows2000”中的“Windows”。预查不消耗字符，也就是说，在一个匹配发生后，在最后一次匹配之后立即开始下一次匹配的搜索，而不是从包含预查的字符之后开始   |
| x \| y      | 匹配 x 或 y。例如，“z \| food”能匹配“z”或“food”。“(z \| f)ood”则匹配“zood”或“food”。                                                                                                                                                                                                                                                                          |
| \[xyz\]     | 字符集合。匹配所包含的任意一个字符。例如，“\[abc\]”可以匹配“plain”中的“a”。                                                                                                                                                                                                                                                                                   |
| \[^xyz\]    | 负值字符集合。匹配未包含的任意字符。例如，“\[^abc\]”可以匹配“plain”中的“p”。                                                                                                                                                                                                                                                                                  |
| \[a-z\]     | 字符范围。匹配指定范围内的任意字符。例如，“\[a-z\]”可以匹配“a”到“z”范围内的任意小写字母字符。                                                                                                                                                                                                                                                                 |
| \[^a-z\]    | 负值字符范围。匹配任何不在指定范围内的任意字符。例如，“\[^a-z\]”可以匹配任何不在“a”到“z”范围内的任意字符。                                                                                                                                                                                                                                                    |
| \\b         | 匹配一个单词边界，也就是指单词和空格间的位置。例如，“er\\b”可以匹配“never”中的“er”，但不能匹配“verb”中的“er”。                                                                                                                                                                                                                                                |
| \\B         | 匹配非单词边界。“er\\B”能匹配“verb”中的“er”，但不能匹配“never”中的“er”。                                                                                                                                                                                                                                                                                      |
| \\cx        | 匹配由 x 指明的控制字符。例如，\\cM 匹配一个 Control-M 或回车符。x 的值必须为 A-Z 或 a-z 之一。否则，将 c 视为一个原义的“c”字符。                                                                                                                                                                                                                             |
| \\d         | 匹配一个数字字符。等价于\[0-9\]。                                                                                                                                                                                                                                                                                                                             |
| \\D         | 匹配一个非数字字符。等价于\[^0-9\]。                                                                                                                                                                                                                                                                                                                          |
| \\f         | 匹配一个换页符。等价于\\x0c 和\\cL。                                                                                                                                                                                                                                                                                                                          |
| \\n         | 匹配一个换行符。等价于\\x0a 和\\cJ。                                                                                                                                                                                                                                                                                                                          |
| \\r         | 匹配一个回车符。等价于\\x0d 和\\cM。                                                                                                                                                                                                                                                                                                                          |
| \\s         | 匹配任何空白字符，包括空格、制表符、换页符等等。等价于\[\\f\\n\\r\\t\\v\]。                                                                                                                                                                                                                                                                                   |
| \\S         | 匹配任何非空白字符。等价于\[^\\f\\n\\r\\t\\v\]。                                                                                                                                                                                                                                                                                                              |
| \\t         | 匹配一个制表符。等价于\\x09 和\\cI。                                                                                                                                                                                                                                                                                                                          |
| \\v         | 匹配一个垂直制表符。等价于\\x0b 和\\cK。                                                                                                                                                                                                                                                                                                                      |
| \\w         | 匹配包括下划线的任何单词字符。等价于“\[A-Za-z0-9\_\]”。                                                                                                                                                                                                                                                                                                       |
| \\W         | 匹配任何非单词字符。等价于“\[^A-Za-z0-9\_\]”。                                                                                                                                                                                                                                                                                                                |
| \\xn        | 匹配 n，其中 n 为十六进制转义值。十六进制转义值必须为确定的两个数字长。例如，“\\x41”匹配“A”。“\\x041”则等价于“\\x04&1”。正则表达式中可以使用 ASCII 编码。.                                                                                                                                                                                                    |
| \\num       | 匹配 num，其中 num 是一个正整数。对所获取的匹配的引用。例如，“(.)\\1”匹配两个连续的相同字符。                                                                                                                                                                                                                                                                 |
| \\n         | 标识一个八进制转义值或一个向后引用。如果\\n 之前至少 n 个获取的子表达式，则 n 为向后引用。否则，如果 n 为八进制数字（0-7），则 n 为一个八进制转义值。                                                                                                                                                                                                         |
| \\nm        | 标识一个八进制转义值或一个向后引用。如果\\nm 之前至少有 nm 个获得子表达式，则 nm 为向后引用。如果\\nm 之前至少有 n 个获取，则 n 为一个后跟文字 m 的向后引用。如果前面的条件都不满足，若 n 和 m 均为八进制数字（0-7），则\\nm 将匹配八进制转义值 nm。                                                                                                          |
| \\nml       | 如果 n 为八进制数字（0-3），且 m 和 l 均为八进制数字（0-7），则匹配八进制转义值 nml。                                                                                                                                                                                                                                                                         |
| \\un        | 匹配 n，其中 n 是一个用四个十六进制数字表示的 Unicode 字符。例如，\\u00A9 匹配版权符号（?）。                                                                                                                                                                                                                                                                 |

## 特殊

| 用途               | 正则表达式                                                                | 说明                       |
| ------------------ | ------------------------------------------------------------------------- | -------------------------- |
| 身份证号（中国）   | `^(\d{15}\|\d{17}[\dxX])$`                                                | 匹配 15 位或 18 位身份证号 |
| QQ 号              | `^[1-9][0-9]{4,14}$`                                                      | 5-15 位数字，首位非 0      |
| 邮政编码（中国）   | `^\d{6}$`                                                                 | 匹配 6 位数字邮政编码      |
| 电子邮箱           | `^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$`                        | 匹配标准邮箱格式           |
| 手机号（中国）     | `^1[3-9]\d{9}$`                                                           | 匹配 11 位中国大陆手机号   |
| URL                | `^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$`          | 匹配 http/https 协议的 URL |
| 日期（YYYY-MM-DD） | `^\d{4}-\d{2}-\d{2}$`                                                     | 匹配年-月-日格式           |
| IPv4 地址          | `^((25[0-5]\|2[0-4]\d\|[01]?\d\d?)\.){3}(25[0-5]\|2[0-4]\d\|[01]?\d\d?)$` | 匹配 IPv4 地址             |

## 数值

| 用途       | 正则表达式                      | 说明           |
| ---------- | ------------------------------- | -------------- |
| 科学计数法 | `^-?\d+(?:\.\d+)?[eE][+-]?\d+$` | 匹配如 3.14e+2 |

### 整数

| 用途             | 正则表达式     | 说明                   |
| ---------------- | -------------- | ---------------------- |
| 允许前导零的整数 | `^-?\d+$`      | 如 0012、-045          |
| 整数             | `^-?[1-9]\d*$` | 含正负的整数（不含零） |
| 正整数           | `^[1-9]\d*$`   | 不含前导零的正整数     |
| 负整数           | `^-\d+$`       | 必须带负号且不含前导零 |

### 小数

| 用途         | 正则表达式                                     | 说明                   |
| ------------ | ---------------------------------------------- | ---------------------- |
| 简写小数格式 | `^-?\d*\.?\d+$`                                | 允许 .5 或 0.5 格式    |
| 保留两位小数 | `^(([1-9]{1}\\d*)\|([0]{1}))(\\.(\\d){0,2})?$` |                        |
| 小数         | `^-?(?:0\|[1-9]\d\*)\.\d+$`                    | 含正负，必须包含小数点 |

## 字符串

| 用途      | 正则表达式                                   | 说明                    |
| --------- | -------------------------------------------- | ----------------------- |
| 密码强度  | `^(?=.*\d)(?=.*[a-zA-Z]).{8,}$`              | 至少 8 位且含字母和数字 |
| 中文字符  | `^[\u4e00-\u9fa5]+$`                         | 匹配纯中文字符          |
| HTML 标签 | `<([a-z]+)([^<]+)_(?:>(._?)<\/\1>\|\s\*\/>)` | 匹配基本 HTML 标签      |

## 日期时间

| 用途 | 正则表达式 | 说明 |
| ---- | ---------- | ---- |

## 其它

#### 一、校验数字的表达式

1\. 数字：^\[0-9\]\*$

2\. n 位的数字：^\\d{n}$

3\. 至少 n 位的数字：^\\d{n,}$

4\. m-n 位的数字：^\\d{m,n}$

5\. 零和非零开头的数字：^(0|\[1-9\]\[0-9\]\*)$

6\. 非零开头的最多带两位小数的数字：^(\[1-9\]\[0-9\]\*)+(.\[0-9\]{1,2})?$

7\. 带 1-2 位小数的正数或负数：^(\\-)?\\d+(\\.\\d{1,2})?$

8\. 正数、负数、和小数：^(\\-|\\+)?\\d+(\\.\\d+)?$

9\. 有两位小数的正实数：^\[0-9\]+(.\[0-9\]{2})?$

10\. 有 1~3 位小数的正实数：^\[0-9\]+(.\[0-9\]{1,3})?$

11\. 非零的正整数：^\[1-9\]\\d\*$ 或 ^(\[1-9\]\[0-9\]\*){1,3}$ 或 ^\\+?\[1-9\]\[0-9\]\*$

12\. 非零的负整数：^\\-\[1-9\]\[\]0-9"\*$ 或 ^-\[1-9\]\\d\*$

13\. 非负整数：^\\d+$ 或 ^\[1-9\]\\d\*|0$

14\. 非正整数：^-\[1-9\]\\d\*|0$ 或 ^((-\\d+)|(0+))$

15\. 非负[浮点数](https://so.csdn.net/so/search?q=%E6%B5%AE%E7%82%B9%E6%95%B0&spm=1001.2101.3001.7020)：^\\d+(\\.\\d+)?$ 或 ^\[1-9\]\\d\*\\.\\d\*|0\\.\\d\*\[1-9\]\\d\*|0?\\.0+|0$

16\. 非正浮点数：^((-\\d+(\\.\\d+)?)|(0+(\\.0+)?))$ 或 ^(-(\[1-9\]\\d\*\\.\\d\*|0\\.\\d\*\[1-9\]\\d\*))|0?\\.0+|0$

17\. 正浮点数：^\[1-9\]\\d\*\\.\\d\*|0\\.\\d\*\[1-9\]\\d\*$ 或 ^((\[0-9\]+\\.\[0-9\]\*\[1-9\]\[0-9\]\*)|(\[0-9\]\*\[1-9\]\[0-9\]\*\\.\[0-9\]+)|(\[0-9\]\*\[1-9\]\[0-9\]\*))$

18\. 负浮点数：^-(\[1-9\]\\d\*\\.\\d\*|0\\.\\d\*\[1-9\]\\d\*)$ 或 ^(-((\[0-9\]+\\.\[0-9\]\*\[1-9\]\[0-9\]\*)|(\[0-9\]\*\[1-9\]\[0-9\]\*\\.\[0-9\]+)|(\[0-9\]\*\[1-9\]\[0-9\]\*)))$

19\. 浮点数：^(-?\\d+)(\\.\\d+)?$ 或 ^-?(\[1-9\]\\d\*\\.\\d\*|0\\.\\d\*\[1-9\]\\d\*|0?\\.0+|0)$

#### 二、校验字符的表达式

1\. 汉字：^\[\\u4e00-\\u9fa5\]{0,}$

2\. 英文和数字：^\[A-Za-z0-9\]+$ 或 ^\[A-Za-z0-9\]{4,40}$

3\. 长度为 3-20 的所有字符：^.{3,20}$

4\. 由 26 个[英文字母](https://so.csdn.net/so/search?q=%E8%8B%B1%E6%96%87%E5%AD%97%E6%AF%8D&spm=1001.2101.3001.7020)组成的字符串：^\[A-Za-z\]+$

5\. 由 26 个大写英文字母组成的字符串：^\[A-Z\]+$

6\. 由 26 个小写英文字母组成的字符串：^\[a-z\]+$

7\. 由数字和 26 个英文字母组成的字符串：^\[A-Za-z0-9\]+$

8\. 由数字、26 个英文字母或者下划线组成的字符串：^\\w+$ 或 ^\\w{3,20}$

9\. 中文、英文、数字包括下划线：^\[\\u4E00-\\u9FA5A-Za-z0-9\_\]+$

10\. 中文、英文、数字但不包括下划线等符号：^\[\\u4E00-\\u9FA5A-Za-z0-9\]+$ 或 ^\[\\u4E00-\\u9FA5A-Za-z0-9\]{2,20}$

11\. 可以输入含有^%&',;=?$\\"等字符：\[^%&',;=?$\\x22\]+ 12 禁止输入含有~的字符：\[^~\\x22\]+

**其它：**

.\*匹配除 \\n 以外的任何字符。

/\[\\u4E00-\\u9FA5\]/ 汉字

/\[\\uFF00-\\uFFFF\]/ 全角符号

/\[\\u0000-\\u00FF\]/ 半角符号

#### 三、特殊需求表达式

1\. Email 地址：^\\w+(\[-+.\]\\w+)\*@\\w+(\[-.\]\\w+)\*\\.\\w+(\[-.\]\\w+)\*$

2\. 域名：\[a-zA-Z0-9\]\[-a-zA-Z0-9\]{0,62}(/.\[a-zA-Z0-9\]\[-a-zA-Z0-9\]{0,62})+/.?

3\. InternetURL：\[a-zA-z\]+://\[^\\s\]\* 或 ^http://(\[\\w-\]+\\.)+\[\\w-\]+(/\[\\w-./?%&=\]\*)?$

4\. 手机号码：^(13\[0-9\]|14\[5|7\]|15\[0|1|2|3|5|6|7|8|9\]|18\[0|1|2|3|5|6|7|8|9\])\\d{8}$

5\. 电话号码("XXX-XXXXXXX"、"XXXX-XXXXXXXX"、"XXX-XXXXXXX"、"XXX-XXXXXXXX"、"XXXXXXX"和"XXXXXXXX)：^(\\(\\d{3,4}-)|\\d{3.4}-)?\\d{7,8}$

6\. 国内电话号码(0511-4405222、021-87888822)：\\d{3}-\\d{8}|\\d{4}-\\d{7}

7\. 身份证号(15 位、18 位数字)：^\\d{15}|\\d{18}$

8\. 短身份证号码(数字、字母 x 结尾)：^(\[0-9\]){7,18}(x|X)?$ 或 ^\\d{8,18}|\[0-9x\]{8,18}|\[0-9X\]{8,18}?$

9\. 帐号是否合法(字母开头，允许 5-16 字节，允许字母数字下划线)：^\[a-zA-Z\]\[a-zA-Z0-9\_\]{4,15}$

10\. 密码(以字母开头，长度在 6~18 之间，只能包含字母、数字和下划线)：^\[a-zA-Z\]\\w{5,17}$

11\. 强密码(必须包含大小写字母和数字的组合，不能使用特殊字符，长度在 8-10 之间)：^(?=.\*\\d)(?=.\*\[a-z\])(?=.\*\[A-Z\]).{8,10}$

12\. 日期格式：^\\d{4}-\\d{1,2}-\\d{1,2}

13\. 一年的 12 个月(01 ～ 09 和 1 ～ 12)：^(0?\[1-9\]|1\[0-2\])$

14\. 一个月的 31 天(01 ～ 09 和 1 ～ 31)：^((0?\[1-9\])|((1|2)\[0-9\])|30|31)$

15\. 钱的输入格式：

16\. 1.有四种钱的表示形式我们可以接受:"10000.00" 和 "10,000.00", 和没有 "分" 的 "10000" 和 "10,000"：^\[1-9\]\[0-9\]\*$

17\. 2.这表示任意一个不以 0 开头的数字,但是,这也意味着一个字符"0"不通过,所以我们采用下面的形式：^(0|\[1-9\]\[0-9\]\*)$

18\. 3.一个 0 或者一个不以 0 开头的数字.我们还可以允许开头有一个负号：^(0|-?\[1-9\]\[0-9\]\*)$

19\. 4.这表示一个 0 或者一个可能为负的开头不为 0 的数字.让用户以 0 开头好了.把负号的也去掉,因为钱总不能是负的吧.下面我们要加的是说明可能的小数部分：^\[0-9\]+(.\[0-9\]+)?$

20\. 5.必须说明的是,小数点后面至少应该有 1 位数,所以"10."是不通过的,但是 "10" 和 "10.2" 是通过的：^\[0-9\]+(.\[0-9\]{2})?$

21\. 6.这样我们规定小数点后面必须有两位,如果你认为太苛刻了,可以这样：^\[0-9\]+(.\[0-9\]{1,2})?$

22\. 7.这样就允许用户只写一位小数.下面我们该考虑数字中的逗号了,我们可以这样：^\[0-9\]{1,3}(,\[0-9\]{3})\*(.\[0-9\]{1,2})?$

23 8.1 到 3 个数字,后面跟着任意个 逗号+3 个数字,逗号成为可选,而不是必须：^(\[0-9\]+|\[0-9\]{1,3}(,\[0-9\]{3})\*)(.\[0-9\]{1,2})?$

24\. 备注：这就是最终结果了,别忘了"+"可以用"\*"替代如果你觉得空字符串也可以接受的话(奇怪,为什么?)最后,别忘了在用函数时去掉去掉那个反斜杠,一般的错误都在这里

25\. xml 文件：^(\[a-zA-Z\]+-?)+\[a-zA-Z0-9\]+\\\\.\[x|X\]\[m|M\]\[l|L\]$

26\. 中文字符的[正则表达式](https://so.csdn.net/so/search?q=%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F&spm=1001.2101.3001.7020 '正则表达式')：\[\\u4e00-\\u9fa5\]

27\. 双字节字符：\[^\\x00-\\xff\] (包括汉字在内，可以用来计算字符串的长度(一个双字节字符长度计 2，ASCII 字符计 1))

28\. 空白行的正则表达式：\\n\\s\*\\r (可以用来删除空白行)

29\. HTML 标记的正则表达式：<(\\S\*?)\[^>\]\*>.\*?</\\1>|<.\*? /> (网上流传的版本太糟糕，上面这个也仅仅能部分，对于复杂的嵌套标记依旧无能为力)

30\. 首尾空白字符的正则表达式：^\\s\*|\\s\*$或(^\\s\*)|(\\s\*$) (可以用来删除行首行尾的空白字符(包括空格、制表符、换页符等等)，非常有用的表达式)

31\. 腾讯 QQ 号：\[1-9\]\[0-9\]{4,} (腾讯 QQ 号从 10000 开始)

32\. 中国邮政编码：\[1-9\]\\d{5}(?!\\d) (中国邮政编码为 6 位数字)

33. IP 地址：\\d+\\.\\d+\\.\\d+\\.\\d+ (提取 IP 地址时有用)

34\. IP 地址：((?:(?:25\[0-5\]|2\[0-4\]\\\\d|\[01\]?\\\\d?\\\\d)\\\\.){3}(?:25\[0-5\]|2\[0-4\]\\\\d|\[01\]?\\\\d?\\\\d))

35\. IP-v4 地址：\\\\b(?:(?:25\[0-5\]|2\[0-4\]\[0-9\]|\[01\]?\[0-9\]\[0-9\]?)\\\\.){3}(?:25\[0-5\]|2\[0-4\]\[0-9\]|\[01\]?\[0-9\]\[0-9\]?)\\\\b (提取 IP 地址时有用)  
36\. 校验 IP-v6 地址:((\[0-9a-fA-F\]{1,4}:){7,7}\[0-9a-fA-F\]{1,4}|(\[0-9a-fA-F\]{1,4}:){1,7}:|(\[0-9a-fA-F\]{1,4}:){1,6}:\[0-9a-fA-F\]{1,4}|(\[0-9a-fA-F\]{1,4}:){1,5}(:\[0-9a-fA-F\]{1,4}){1,2}|(\[0-9a-fA-F\]{1,4}:){1,4}(:\[0-9a-fA-F\]{1,4}){1,3}|(\[0-9a-fA-F\]{1,4}:){1,3}(:\[0-9a-fA-F\]{1,4}){1,4}|(\[0-9a-fA-F\]{1,4}:){1,2}(:\[0-9a-fA-F\]{1,4}){1,5}|\[0-9a-fA-F\]{1,4}:((:\[0-9a-fA-F\]{1,4}){1,6})|:((:\[0-9a-fA-F\]{1,4}){1,7}|:)|fe80:(:\[0-9a-fA-F\]{0,4}){0,4}%\[0-9a-zA-Z\]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25\[0-5\]|(2\[0-4\]|1{0,1}\[0-9\]){0,1}\[0-9\])\\\\.){3,3}(25\[0-5\]|(2\[0-4\]|1{0,1}\[0-9\]){0,1}\[0-9\])|(\[0-9a-fA-F\]{1,4}:){1,4}:((25\[0-5\]|(2\[0-4\]|1{0,1}\[0-9\]){0,1}\[0-9\])\\\\.){3,3}(25\[0-5\]|(2\[0-4\]|1{0,1}\[0-9\]){0,1}\[0-9\]))  
37\. 子网掩码：((?:(?:25\[0-5\]|2\[0-4\]\\\\d|\[01\]?\\\\d?\\\\d)\\\\.){3}(?:25\[0-5\]|2\[0-4\]\\\\d|\[01\]?\\\\d?\\\\d))  
38\. 校验日期:^(?:(?!0000)\[0-9\]{4}-(?:(?:0\[1-9\]|1\[0-2\])-(?:0\[1-9\]|1\[0-9\]|2\[0-8\])|(?:0\[13-9\]|1\[0-2\])-(?:29|30)|(?:0\[13578\]|1\[02\])-31)|(?:\[0-9\]{2}(?:0\[48\]|\[2468\]\[048\]|\[13579\]\[26\])|(?:0\[48\]|\[2468\]\[048\]|\[13579\]\[26\])00)-02-29)$(“yyyy-mm-dd“ 格式的日期校验，已考虑平闰年。)  
39\. 抽取注释：<!--(.\*?)-->  
40\. 查找CSS属性:^\\\\s\*\[a-zA-Z\\\\-\]+\\\\s\*\[:\]{1}\\\\s\[a-zA-Z0-9\\\\s.#\]+\[;\]{1}  
41\. 提取页面超链接:(<a\\\\s\*(?!.\*\\\\brel=)\[^>\]\*)(href="https?:\\\\/\\\\/)((?!(?:(?:www\\\\.)?'.implode('|(?:www\\\\.)?', $follow\_list).'))\[^" rel="external nofollow" \]+)"((?!.\*\\\\brel=)\[^>\]\*)(?:\[^>\]\*)>  
42\. 提取网页图片:\\\\< \*\[img\]\[^\\\\\\\\>\]\*\[src\] \*= \*\[\\\\"\\\\'\]{0,1}(\[^\\\\"\\\\'\\\\ >\]\*)  
43\. 提取网页颜色代码:^#(\[A-Fa-f0-9\]{6}|\[A-Fa-f0-9\]{3})$  
44\. 文件扩展名效验:^(\[a-zA-Z\]\\\\:|\\\\\\\\)\\\\\\\\(\[^\\\\\\\\\]+\\\\\\\\)\*\[^\\\\/:\*?"<>|\]+\\\\.txt(l)?$  
45\. 判断 IE 版本：^.\*MSIE \[5-8\](?:\\\\.\[0-9\]+)?(?!.\*Trident\\\\/\[5-9\]\\\\.0).\*$

### 一、表单验证类（最常用）

| 用途                                             | 正则表达式                                                                                                | 示例 / 说明             |
| :----------------------------------------------- | :-------------------------------------------------------------------------------------------------------- | :---------------------- |
| 邮箱                                             | `^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$`                                                        | abc@example.com         |
| 验证标准邮箱格式                                 |
| 手机号（中国大陆）                               | `^1[3-9]\d{9}$`                                                                                           | 13812345678             |
| 11 位，以 13-19 开头                             |
| 身份证号（18 位，简单校验）                      | `^\d{17}[\dXx]$`                                                                                          | 11010519900307233X      |
| 最后一位可以是数字或 X                           |
| 身份证号（15 位，旧版）                          | `^\d{15}$`                                                                                                | 110105800101001         |
| URL（网址）                                      | `^https?://[^\s/$.?#].[^\s]*   或更严格的：^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?` | https://www.example.com |
| 支持 http / https                                |
| IP 地址（IPv4）                                  | `` `^(25[0-5] ``                                                                                          | 2\[0-4\]\[0-9\]         |
| 密码强度（至少 8 位，含字母+数字）               | `^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d@$!%*#?&]{8,}$`                                                          | abc12345                |
| 推荐用于用户注册密码校验                         |
| 密码强度（含特殊字符）                           | `^(?=.*[!@#$%^&*]).{8,}$`                                                                                 | 至少一个特殊符号        |
| 强密码（大小写字母 + 数字 + 特殊字符，8 位以上） | `^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!?%*#&])[A-Za-z\d@$!?%*#&]{8,}$`                                  | Abc@1234                |
| 用户名（字母开头，允许字母数字下划线，4-16 位）  | `^[a-zA-Z][a-zA-Z0-9_]{3,15}$`                                                                            | user_123                |
| 邮政编码（中国）                                 | `^[1-9]\d{5}$`                                                                                            | 6 位数字，如 100080     |

### 二、字符/格式类（通用匹配）

| 用途                     | 正则表达式                            | 说明                               |
| :----------------------- | :------------------------------------ | :--------------------------------- |
| 纯数字                   | `^\d+$`                               | 匹配 123456 这样的数字字符串       |
| 正整数                   | `^[1-9]\d*$`                          | 不允许前导零，如 0123 不合法       |
| 非负整数（包括 0）       | `^\d+$或 ^[0-9]+$`                    |                                    |
| 小数 / 浮点数            | `^\d+\.\d+$或更严格：^-?\d+(\.\d+)?$` | 支持正负小数，如 3.14, -0.5        |
| 正浮点数                 | `` `^\d*.\d+ ``                       | \\d+.\\d\* 或 \[0−9\]+(\[˙0−9\]+)? |
| 字母（仅英文字母）       | `^[A-Za-z]+$`                         | 只允许大小写字母                   |
| 字母 + 数字              | `^[A-Za-z0-9]+$`                      | 无特殊符号，如验证码               |
| 匹配 abc123, 排除 a_b    |
| 中文字符                 | `^[\u4e00-\u9fa5]+$`                  | 匹配纯中文，如 中文测试            |
| 中文 + 英文 + 数字       | `^[\u4e00-\u9fa5A-Za-z0-9]+$`         | 常用于昵称、姓名                   |
| 只包含字母、数字、下划线 | `^\w+$等价于 ^[A-Za-z0-9_]+$`         |                                    |
| 禁止特殊字符             | `^[^<>{}[\]\\\'\"]+$`                 | 排除一些危险或特殊符号             |

### 三、网络与编码类

| 用途                    | 正则表达式                                                                      | 说明                                    |
| :---------------------- | :------------------------------------------------------------------------------ | :-------------------------------------- |
| 域名（简单）            | `^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$`               | 如 example.com                          |
| URL（HTTP/HTTPS）       | `^https?://[^\s/$.?#].[^\s]*$`                                                  | 匹配 https://example.com/path           |
| 十六进制颜色代码        | `` `^#([A-Fa-f0-9]{6} ``                                                        | \[A-Fa-f0-9\]{3})$\`                    |
| UUID                    | `^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$` | 如 550e8400-e29b-41d4-a716-446655440000 |
| Base64 格式（简单判断） | `^[A-Za-z0-9+/]+={0,2}$`                                                        | 通常用于编码数据                        |

### 四、日期与时间类

| 用途                            | 正则表达式            | 说明                                   |
| :------------------------------ | :-------------------- | :------------------------------------- |
| YYYY-MM-DD 日期                 | `` `^\d{4}-(0[1-9] `` | 1\[0-2\])-(0\[1-9\]                    |
| YYYY/MM/DD                      | `` `^\d{4}/(0[1-9] `` | 1\[0-2\])/(0\[1-9\]                    |
| 简单时间 HH:MM:SS               | `` `^([01]\d ``       | 2\[0-3\]):(\[0-5\]\\d):(\[0-5\]\\d)$\` |
| 日期时间（YYYY-MM-DD HH:MM:SS） | `` `^\d{4}-(0[1-9] `` | 1\[0-2\])-(0\[1-9\]                    |

### 五、文本/编程/标记类

| 用途                                    | 正则表达式                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 说明                                                                                                             |
| :-------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :--------------------------------------------------------------------------------------------------------------- |
| HTML 标签（简单匹配）                   | `<[^>]+>`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | 匹配如 `<div>, <p class="xxx">`                                                                                  |
| Email 地址 基础版（匹配大多数常见邮箱） | `^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | 允许：数字、字母、下划线 + @ + 域名 支持：-、\_、. 符号（但不会连续出现） 示例匹配：user.name+123@example.com.cn |
| Email 地址 严格版（符合 RFC 5322 标准） | \^(?:\[a-z0-9!#$%&'\*+/=?^\_\`{\|}\~-\]+(?:\\.\[a-z0-9!#$%&'\*+/=?^\_\`{\|}\~-\]+)\*\|"(?:\[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f\] \| \\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f\])\*")@(?:(?:\[a-z0-9\](?:\[a-z0-9-\]\*\[a-z0-9\])?\\.)+\[a-z0-9\](?:\[a-z0-9-\]\*\[a-z0-9\])? \| \\\[(?:(?:25\[0-5\] \| 2\[0-4\]\[0-9\] \| \[01\]?\[0-9\]\[0-9\]?)\\.){3}(?:25\[0-5\] \| 2\[0-4\]\[0-9\] \| \[01\]?\[0-9\]\[0-9\]?) \| \[a-z0-9-\]\*\[a-z0-9\]:(?:\[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f\] \| \\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f\])+)\\\])$ | 完全遵循 RFC 标准，支持复杂格式（如带引号的本地部分和 IP 地址域名） 但可读性差，实际项目中可能过度严格           |
| Email 地址 实用版（平衡严格性和可读性） | `^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | 允许：字母、数字 + .\_%+- 符号 要求：域名至少 2 位字母（如 .com、.cn） 排除：连续特殊符号或非标准字符            |
| Email 地址 带国际域名支持版             | `^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,20}$`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | 限制域名后缀长度为 2-20 个字符（覆盖国际化长域名）                                                               |
| 提取 URL                                | `https?:\/\/[^\s]+`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 从文本中匹配链接                                                                                                 |
| 手机号（从文本提取）                    | `1[3-9]\d{9}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | 扫描文本中的手机号                                                                                               |
| IP 地址（从文本中提取）                 | `\b(?:\d{1,3}\.){3}\d{1,3}\b`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | 简单匹配，不校验范围                                                                                             |
| 中文标点符号                            | `[\u3000-\u303F\uff00-\uffef]`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 如 ，。！？、；：“”‘’（）【】                                                                                    |
| 匹配连续重复字符（如 aaa）              | `(.)\1{2,}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | 匹配任意字符重复 3 次及以上                                                                                      |
